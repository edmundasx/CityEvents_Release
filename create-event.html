<!DOCTYPE html>
<html lang="lt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sukurti RenginÄ¯ - CityEvents</title>
    

    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/navbar.css">
    <link rel="stylesheet" href="assets/css/create-event.css">
</head>
<body>
    <header class="header">
        <div class="header-content">
            <div class="header-left">
                <a href="index.html" class="logo">CityEvents</a>
                <nav class="nav">
                    <a href="index.html#events" class="nav-link" title="Renginiai â€“ pagrindinÄ— renginiÅ³ perÅ¾iÅ«ra">Renginiai</a>
                    <a href="city-map.html" class="nav-link" title="Å½emÄ—lapis â€“ vizualus renginiÅ³ Å¾emÄ—lapis">Å½emÄ—lapis</a>
                    <a href="for-organizers.html" class="nav-link" title="Organizatoriams â€“ informacija renginiÅ³ organizatoriams">Organizatoriams</a>
                    <a href="help-center.html" class="nav-link" title="Pagalba â€“ DUK ir pagalbos centras">Pagalba</a>
                </nav>
            </div>
            <div class="header-right">
                <div class="header-actions" id="authActions"></div>
            </div>
        </div>
    </header>

    <div class="container">
        <div class="hero">
            <h1>Sukurti RenginÄ¯</h1>
            <p>UÅ¾pildykite formÄ… ir pradÄ—kite kurti savo renginÄ¯</p>
        </div>

        <div class="form-card">
            <div class="success-message" id="successMessage">
                âœ“ Renginys sÄ—kmingai sukurtas! Jis bus perÅ¾iÅ«rÄ—tas administratoriaus.
            </div>

            <form id="eventForm">
                <div class="form-group">
                    <label for="title">Renginio pavadinimas <span class="required">*</span></label>
                    <input type="text" id="title" name="title" required placeholder="Pvz.: Vasaros muzikos festivalis">
                </div>

                <div class="form-group">
                    <label for="category">Kategorija <span class="required">*</span></label>
                    <select id="category" name="category" required>
                        <option value="">Pasirinkite kategorijÄ…</option>
                        <option value="muzika">ğŸµ Muzika</option>
                        <option value="verslas">ğŸ’¼ Verslas</option>
                        <option value="menas">ğŸ¨ Menas</option>
                        <option value="sportas">âš½ Sportas</option>
                        <option value="maistas">ğŸ” Maistas</option>
                        <option value="technologijos">ğŸ’» Technologijos</option>
                        <option value="svietimas">ğŸ“š Å vietimas</option>
                        <option value="pramogos">ğŸ­ Pramogos</option>
                    </select>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="date">Data <span class="required">*</span></label>
                        <input type="date" id="date" name="date" required>
                    </div>

                    <div class="form-group">
                        <label for="time">Laikas <span class="required">*</span></label>
                        <input type="time" id="time" name="time" required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="location">Vieta <span class="required">*</span></label>
                    <input type="text" id="location" name="location" required placeholder="Pvz.: Vilnius, LukiÅ¡kiÅ³ aikÅ¡tÄ— 1">
                </div>

                <div class="form-group">
                    <label for="price">Kaina (â‚¬) <span class="required">*</span></label>
                    <input type="number" id="price" name="price" min="0" step="0.01" required placeholder="0.00">
                    <div class="form-help">Ä®veskite 0, jei renginys nemokamas</div>
                </div>

                <div class="form-group">
                    <label for="description">ApraÅ¡ymas <span class="required">*</span></label>
                    <textarea id="description" name="description" required placeholder="ApraÅ¡ykite savo renginÄ¯..."></textarea>
                </div>

                <div class="form-group">
                    <label for="imageUrl">Nuotraukos URL</label>
                    <input type="url" id="imageUrl" name="imageUrl" placeholder="https://example.com/image.jpg">
                    <div class="form-help">Neprivalomas laukas. Ä®kelkite nuotraukÄ… Ä¯ bet kokÄ¯ nuotraukÅ³ talpyklÄ… ir Ä¯klijuokite nuorodÄ…</div>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-outline" onclick="window.history.back()">AtÅ¡aukti</button>
                    <button type="submit" class="btn btn-primary">Sukurti renginÄ¯</button>
                </div>
            </form>
        </div>
    </div>

    <script src="assets/js/api.js"></script>
    <script src="assets/js/app.js"></script>
    <script>
        document.getElementById('eventForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = {
                title: document.getElementById('title').value,
                category: document.getElementById('category').value,
                date: document.getElementById('date').value,
                time: document.getElementById('time').value,
                location: document.getElementById('location').value,
                price: document.getElementById('price').value,
                description: document.getElementById('description').value,
                imageUrl: document.getElementById('imageUrl').value,
                status: 'pending',
                createdAt: new Date().toISOString()
            };

            // Get current user from localStorage
            const currentUser = JSON.parse(localStorage.getItem('currentUser') || '{}');
            formData.organizerId = currentUser.id || 'user-' + Date.now();

            // Save to localStorage
            const events = JSON.parse(localStorage.getItem('pendingEvents') || '[]');
            events.push(formData);
            localStorage.setItem('pendingEvents', JSON.stringify(events));

            // Show success message
            document.getElementById('successMessage').classList.add('show');
            
            // Reset form
            this.reset();

            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });

            // Hide success message after 5 seconds
            setTimeout(() => {
                document.getElementById('successMessage').classList.remove('show');
            }, 5000);
        });
    </script>
</body>
</html>